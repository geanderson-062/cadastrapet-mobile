{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar petsURL = \"https://cadastrapet2022.000webhostapp.com/app/services/api.php\";\n\nvar App = function App() {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      nome = _useState6[0],\n      setNome = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      raca = _useState8[0],\n      setRaca = _useState8[1];\n\n  useEffect(function () {\n    fetch(petsURL).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      setData(json.pets);\n      setTitle(json.nome);\n      setDescription(json.raca);\n    }).catch(function (error) {\n      return alert(error);\n    }).finally(function () {\n      return setLoading(false);\n    });\n  }, []);\n\n  function getPetsAsync() {\n    var response, json;\n    return _regeneratorRuntime.async(function getPetsAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch(petsURL));\n\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 6:\n            json = _context.sent;\n            setData(json.pets);\n            setTitle(json.nome);\n            setDescription(json.raca);\n            setLoading(false);\n            _context.next = 16;\n            break;\n\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](0);\n            alert(_context.t0);\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 13]], Promise);\n  }\n\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: isLoading ? _jsx(ActivityIndicator, {}) : _jsxs(View, {\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: nome\n      }), _jsx(View, {\n        style: {\n          borderBottomWidth: 1,\n          marginBottom: 12\n        }\n      }), _jsx(FlatList, {\n        data: data,\n        keyExtractor: function keyExtractor(_ref, index) {\n          var id = _ref.id;\n          return id;\n        },\n        renderItem: function renderItem(_ref2) {\n          var item = _ref2.item;\n          return _jsx(View, {\n            style: {\n              paddingBottom: 10\n            },\n            children: _jsxs(Text, {\n              style: styles.movieText,\n              children: [item.id, \". \", item.nome, \", \", item.endereco]\n            })\n          });\n        }\n      }), _jsx(Text, {\n        style: styles.description,\n        children: raca\n      })]\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    marginTop: 48\n  },\n  movieText: {\n    fontSize: 26,\n    fontWeight: \"200\"\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: \"bold\"\n  },\n  description: {\n    textAlign: \"center\",\n    marginBottom: 18,\n    fontWeight: \"200\",\n    color: \"green\"\n  }\n});\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","petsURL","App","isLoading","setLoading","data","setData","nome","setNome","raca","setRaca","fetch","then","response","json","pets","setTitle","setDescription","catch","error","alert","finally","getPetsAsync","styles","container","title","borderBottomWidth","marginBottom","index","id","item","paddingBottom","movieText","endereco","description","StyleSheet","create","flex","alignItems","marginTop","fontSize","fontWeight","textAlign","color"],"sources":["C:/Users/geand/Desktop/PC/projetos/cadastrapet-mobile/src/components/Lista/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  SafeAreaView,\r\n  ActivityIndicator,\r\n  FlatList,\r\n} from \"react-native\";\r\n\r\n// get data from this URL!\r\nconst petsURL = \"https://cadastrapet2022.000webhostapp.com/app/services/api.php\";\r\n\r\nconst App = () => {\r\n  // managing state with 'useState'\r\n  const [isLoading, setLoading] = useState(true);\r\n  const [data, setData] = useState([]);\r\n\r\n  //title = nome / description = raca \r\n  const [nome, setNome] = useState([]);\r\n  const [raca, setRaca] = useState([]);\r\n\r\n\r\n  useEffect(() => {\r\n    fetch(petsURL)\r\n      .then((response) => response.json()) \r\n      .then((json) => {\r\n        setData(json.pets);\r\n        setTitle(json.nome);\r\n        setDescription(json.raca);\r\n      })\r\n      .catch((error) => alert(error)) \r\n      .finally(() => setLoading(false)); \r\n  }, []);\r\n\r\n  // Also get call asynchronous function\r\n  async function getPetsAsync() {\r\n    try {\r\n      let response = await fetch(petsURL);\r\n      let json = await response.json();\r\n      setData(json.pets);\r\n      setTitle(json.nome);\r\n      setDescription(json.raca);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      {/* While fetching show the indicator, else show response*/}\r\n      {isLoading ? (\r\n        <ActivityIndicator />\r\n      ) : (\r\n        <View>\r\n          {/* Title from URL */}\r\n          <Text style={styles.title}>{nome}</Text>\r\n          {/* Display each movie */}\r\n          <View style={{ borderBottomWidth: 1, marginBottom: 12 }}></View>\r\n          <FlatList\r\n            data={data}\r\n            keyExtractor={({ id }, index) => id}\r\n            renderItem={({ item }) => (\r\n              <View style={{ paddingBottom: 10 }}>\r\n                <Text style={styles.movieText}>\r\n                  {item.id}. {item.nome}, {item.endereco}\r\n                </Text>\r\n              </View>\r\n            )}\r\n          />\r\n          {/* Show the description */}\r\n          <Text style={styles.description}>{raca}</Text>\r\n        </View>\r\n      )}\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    marginTop: 48,\r\n  },\r\n  movieText: {\r\n    fontSize: 26,\r\n    fontWeight: \"200\",\r\n  },\r\n  title: {\r\n    fontSize: 32,\r\n    fontWeight: \"bold\",\r\n  },\r\n  description: {\r\n    textAlign: \"center\",\r\n    marginBottom: 18,\r\n    fontWeight: \"200\",\r\n    color: \"green\",\r\n  },\r\n});\r\n\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}